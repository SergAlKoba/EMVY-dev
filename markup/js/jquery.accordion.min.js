!function(a,b,c){var d,e=b.event;e.special.smartresize={setup:function(){b(this).bind("resize",e.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",e.special.smartresize.handler)},handler:function(a,b){var c=this,e=arguments;a.type="smartresize",d&&clearTimeout(d),d=setTimeout(function(){jQuery.event.handle.apply(c,e)},"execAsap"===b?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Accordion=function(a,c){this.$el=b(c),this.$items=this.$el.children("ul").children("li"),this.itemsCount=this.$items.length,this._init(a)},b.Accordion.defaults={open:-1,oneOpenedItem:!1,speed:600,easing:"easeInOutExpo",scrollSpeed:900,scrollEasing:"easeInOutExpo"},b.Accordion.prototype={_init:function(a){this.options=b.extend(!0,{},b.Accordion.defaults,a),this._validate(),this.current=this.options.open,this.$items.find("div.st-content").hide(),this._saveDimValues(),-1!=this.current&&this._toggleItem(this.$items.eq(this.current)),this._initEvents()},_saveDimValues:function(){this.$items.each(function(){var a=b(this);a.data({originalHeight:a.find("a:first").height(),offsetTop:a.offset().top})})},_validate:function(){(this.options.open<-1||this.options.open>this.itemsCount-1)&&(this.options.open=-1)},_initEvents:function(){var c=this;this.$items.find("a:first").bind("click.accordion",function(a){var d=b(this).parent();return c.options.oneOpenedItem&&c._isOpened()&&c.current!==d.index()&&c._toggleItem(c.$items.eq(c.current)),c._toggleItem(d),!1}),b(a).bind("smartresize.accordion",function(a){c._saveDimValues(),c.$el.find("li.st-open").each(function(){var a=b(this);a.css("height",a.data("originalHeight")+a.find("div.st-content").outerHeight(!0))}),c._isOpened()&&c._scroll()})},_isOpened:function(){return this.$el.find("li.st-open").length>0},_toggleItem:function(a){var b=a.find("div.st-content");a.hasClass("st-open")?(this.current=-1,b.stop(!0,!0).fadeOut(this.options.speed),a.removeClass("st-open").stop().animate({height:a.data("originalHeight")},this.options.speed,this.options.easing)):(this.current=a.index(),b.stop(!0,!0).fadeIn(this.options.speed),a.addClass("st-open").stop().animate({height:a.data("originalHeight")+b.outerHeight(!0)},this.options.speed,this.options.easing),this._scroll(this))},_scroll:function(a){var c,a=a||this;c=-1!==a.current?a.current:a.$el.find("li.st-open:last").index(),b("html, body").stop().animate({scrollTop:a.options.oneOpenedItem?a.$items.eq(c).data("offsetTop"):a.$items.eq(c).offset().top},a.options.scrollSpeed,a.options.scrollEasing)}};var f=function(a){this.console&&console.error(a)};b.fn.accordion=function(a){if("string"==typeof a){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=b.data(this,"accordion");return d?b.isFunction(d[a])&&"_"!==a.charAt(0)?void d[a].apply(d,c):void f("Нет такого метода в аккордеоне :'"+a):void f("Нельзя вызвать метод до инициализации; попытка вызвать метод '"+a+"'")})}else this.each(function(){var c=b.data(this,"accordion");c||b.data(this,"accordion",new b.Accordion(a,this))});return this}}(window,jQuery);